<Page x:Class="IconFontTester.MainPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:local="using:IconFontTester"
      xmlns:models="using:Uno.IconFontTester.Models"
      Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

  <Grid Padding="8" RowSpacing="8">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="Auto" />
      <RowDefinition Height="*" />
    </Grid.RowDefinitions>
    <TextBlock Text="Icon Font Tester" HorizontalAlignment="Center" Style="{ThemeResource HeaderTextBlockStyle}" />
    <TextBlock Grid.Row="1" TextWrapping="Wrap">
      <Run Text="To test the icon font, add a copy of SegoeFluentIcons.ttf from C:\Windows\Fonts\ on a Windows 11 machine " />
      <Run Text="and a copy of the Uno Platfrom Symbols.ttf into the Assets/Fonts folder." />
      <Run Text="Also add the selection.json file to the same location. Ensure file names match." />
      <Run Text="Restart the app to see the updates." />
    </TextBlock>
    <StackPanel Grid.Row="2" Orientation="Horizontal" x:Name="ConfigurationPanel" Spacing="8" HorizontalAlignment="Center">
      <Button Click="{x:Bind OpenSelectionFolder}">Open selection folder</Button>
      <Button Click="{x:Bind Refresh}">Refresh</Button>
      <TextBox PlaceholderText="Search..." Text="{x:Bind SearchTerm, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Width="120" />
    </StackPanel>
    <ListView SelectionMode="None" Grid.Row="3" Padding="8" ItemsSource="{x:Bind FilteredGlyphs}">
      <ListView.ItemTemplate>
        <DataTemplate x:DataType="models:IconItem">
          <Viewbox Width="800" Height="200">
            <Grid Margin="8">
              <Grid.ColumnDefinitions>
                <ColumnDefinition Width="40" />
                <ColumnDefinition Width="40" />
                <ColumnDefinition Width="40" />
              </Grid.ColumnDefinitions>
              <TextBlock Text="{x:Bind Id}" />
              <Border HorizontalAlignment="Center" Background="#EEE" BorderBrush="Red" BorderThickness="1" Grid.Column="1">
                <FontIcon Foreground="#000" Glyph="{x:Bind Glyph}" FontFamily="ms-appx:///Assets/Fonts/SegoeFluentIcons.ttf#Segoe Fluent Icons" />
              </Border>
              <Border HorizontalAlignment="Center" Background="#EEE" BorderBrush="Red" BorderThickness="1" Grid.Column="2">
                <FontIcon Foreground="#000" Grid.Column="2" Glyph="{x:Bind Glyph}" FontFamily="ms-appx:///Assets/Fonts/Symbols.ttf#Symbols" />
              </Border>
            </Grid>
          </Viewbox>
        </DataTemplate>
      </ListView.ItemTemplate>
    </ListView>
  </Grid>
</Page>
